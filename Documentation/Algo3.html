<title>Tidy Drawing Trees - Algorithm 3</title>
<head><h1>Algorithm - 3 (Wetherell and Shannon Algorithm)</h1></head>

<body>
<p>This algorithm combines a naive way of drawing narrow trees and Knuth's algorithm
to satisfy two aesthetics of tree drawing simulataneously.</p>
<ol>
<li>All nodes of same height must lie on a straight line and this line must be parallel to the lines
    generated by nodes of other levels.</li>
<li>The parent node must be centered around its children (more general constraint).</li>
</ol>
<p>Further, the tree occupies minimum width most of the time. This is accomplished by left justifying all the nodes.<br>
Anomalies arise due to the fact that the algorithm tries to enforce Aesthetic 2 strictly.</p>

<b>Methodology</b>

<ul>
<li>The tree structure is provided as input in form of a parent array.</li>
<li>The input tree is processed using the node data structure. The parent and children of each node, along with their heights is calculated and stored.</li>
<li>assignCoordinates() is then invoked to use Algorithm 3 on the tree and get points to plot.</li>
<li>During the first <i>POST-ORDER</i> traversal we compute the best positioning for leaves and internal nodes separately.</li>
<li>Further, we calculate a modifier field for the internal nodes, to <b>prevent too much drag</b> of parent node due to children.</li>
<li>The second traversal applies the modifier on the internal nodes and recomputes the coordinates.</li>
<li>In the modified version of the second traversal, a <i>PRE-ORDER</i> walk is used instead to produce minimum width trees.</li>
</ul>
        
<b>Sample Output</b>
<br></br>
<img src="Algo3.png" align="middle"></img>
<br></br>
<b>Analysis</b>
<p>The best analysis is perhaps done through a comparison of Algorithm 2 and 3's outputs on the same parent array. Their simultaneous output is shown below.</p>
<p>There is a marked difference in the improvement offered by Algorithm 3 by using the concept of a <b>modifier</b>. Algorithm 2 tries to enforce aesthetic 2 blindly and as a result suffers from being dragged too easily by its children, and thus wasting considerable space. The modifier helps consider various positionings for the internal nodes and chooses the best one. The leaf nodes are not affected since there is no way to change the coordinates of the leaf nodes - they define the width of the tree.</p>
<p>
The complexity analysis of the assignCoordinates() routine is trivial. There is a POST-ORDER and PRE-ORDER walk which both use the concept of the Morris traversal and hence each walk visits all nodes twice. In total, there are 4 visits of each node. The bound is therefore, still <b>&theta;(n)</b>.
</p>
<br></br>
<img src="Algo23comp.png" align="middle"></img>